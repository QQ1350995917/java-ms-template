<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="pwd.initializr.account.persistence.dao.AdminDao">

  <resultMap type="pwd.initializr.account.persistence.entity.AdminEntity" id="adminMap">
    <result property="id" column="id" jdbcType="INTEGER"/>
    <result property="loginName" column="login_name" jdbcType="VARCHAR"/>
    <result property="loginPassword" column="login_password" jdbcType="VARCHAR"/>
    <result property="name" column="name" jdbcType="VARCHAR"/>
    <result property="gender" column="gender" jdbcType="VARCHAR"/>
    <result property="summary" column="summary" jdbcType="VARCHAR"/>
    <result property="level" column="level" jdbcType="VARCHAR"/>
    <result property="ableStatus" column="able_status" jdbcType="INTEGER"/>
    <result property="delStatus" column="del_status" jdbcType="INTEGER"/>
    <result property="createTime" column="create_time" jdbcType="TIMESTAMP"/>
    <result property="updateTime" column="update_time" jdbcType="TIMESTAMP"/>
  </resultMap>

  <!--查询单个-->
  <select id="queryById" resultMap="adminMap">
        select
        id,
        login_name,
        login_password,
        name,
        gender,
        summary,
        level,
        able_status,
        del_status,
        create_time,
        update_time
        from initializr_account.admin
        where id = #{id}
    </select>

  <!--查询指定行数据-->
  <select id="queryAllByLimit" resultMap="adminMap">
        select
          id, login_name, login_password, name, gender, summary, level, able_status,del_status, create_time, update_time
        from initializr_account.admin
        limit #{offset}, #{limit}
    </select>

  <!--通过实体作为筛选条件查询-->
  <select id="queryAll" resultMap="adminMap">
    select
    id, login_name, login_password, name, gender, summary, level, able_status,del_status,
    create_time, update_time
    from initializr_account.admin
    <where>
      <if test="id != null">
        and id = #{id}
      </if>
      <if test="loginName != null and loginName != ''">
        and login_name = #{loginName}
      </if>
      <if test="loginPassword != null and loginPassword != ''">
        and login_password = #{loginPassword}
      </if>
      <if test="name != null and name != ''">
        and name = #{name}
      </if>
      <if test="gender != null and gender != ''">
        and gender = #{gender}
      </if>
      <if test="summary != null and summary != ''">
        and summary = #{summary}
      </if>
      <if test="level != null and level != ''">
        and level = #{level}
      </if>
      <if test="able_status != null">
        and able_status = #{ableStatus}
      </if>
      <if test="del_status != null">
        and del_status = #{delStatus}
      </if>
      <if test="createTime != null">
        and create_time = #{createTime}
      </if>
      <if test="updateTime != null">
        and update_time = #{updateTime}
      </if>
    </where>
  </select>

  <!--新增所有列-->
  <insert id="insert" keyProperty="id" useGeneratedKeys="true" keyColumn="id"
    parameterType="pwd.initializr.account.persistence.entity.AdminEntity">
        insert into
        initializr_account.admin
        (login_name, login_password, name, gender, summary, level, able_status, del_status, create_time, update_time)
        values
        (#{loginName}, #{loginPassword}, #{name}, #{gender}, #{summary}, #{level}, #{ableStatus},#{delStatus}, #{createTime}, #{updateTime})
    </insert>

  <!--通过主键修改数据-->
  <update id="update">
    update initializr_account.admin
    <set>
      <if test="loginName != null and loginName != ''">
        login_name = #{loginName},
      </if>
      <if test="loginPassword != null and loginPassword != ''">
        login_password = #{loginPassword},
      </if>
      <if test="name != null and name != ''">
        name = #{name},
      </if>
      <if test="gender != null and gender != ''">
        gender = #{gender},
      </if>
      <if test="summary != null and summary != ''">
        summary = #{summary},
      </if>
      <if test="level != null and level != ''">
        level = #{level},
      </if>
      <if test="able_status != null">
        and able_status = #{ableStatus}
      </if>
      <if test="del_status != null">
        and del_status = #{delStatus}
      </if>
      <if test="createTime != null">
        create_time = #{createTime},
      </if>
      <if test="updateTime != null">
        update_time = #{updateTime},
      </if>
    </set>
    where id = #{id}
  </update>

  <!--通过主键删除-->
  <delete id="deleteById">
    delete from initializr_account.admin where id = #{id}
  </delete>

</mapper>