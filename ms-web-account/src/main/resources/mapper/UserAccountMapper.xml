<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="pwd.initializr.account.persistence.mapper.AccountMapper">
  <!-- insertAccount -->
  <insert id="insertAccount" keyProperty="id"
    parameterType="pwd.initializr.account.persistence.dao.AccountEntity"
    useGeneratedKeys="true">
		insert into `account`
		(`id`,`user_id`,`identify`,`password`,`type`,`status`,`create_time`,`update_time`)
		values
		(#{id},#{userId},#{identify},#{password},#{type},#{status},#{createTime},#{updateTime})
	</insert>

  <!--findByUserId-->
  <select id="findByUserId" parameterType="java.lang.Long"
    resultType="pwd.initializr.account.persistence.dao.AccountEntity">
		select
		`id` as id,
		`user_id` as userId,
		`identify` as identify,
		`password` as password,
		`type` as type,
		`status` as status,
		`create_time` as createTime,
		`update_time` as updateTime
		from `account`
		where user_id = #{userId}
	</select>

  <!--findByIdentifyAndPassword-->
	<select id="findByIdentifyAndPassword"
		resultType="pwd.initializr.account.persistence.dao.AccountEntity">
		select
		`id` as id,
		`user_id` as userId,
		`identify` as identify,
		`password` as password,
		`type` as type,
		`status` as status,
		`create_time` as createTime,
		`update_time` as updateTime
		from `account`
		where identify = #{identify}
		AND password = #{password}
	</select>

  <!--findByAccountId-->
	<select id="findByAccountId" parameterType="java.lang.Long"
		resultType="pwd.initializr.account.persistence.dao.AccountEntity">
		select
		`id` as id,
		`user_id` as userId,
		`identify` as identify,
		`password` as password,
		`type` as type,
		`status` as status,
		`create_time` as createTime,
		`update_time` as updateTime
		from `account`
		where id = #{accountId}
	</select>
</mapper>
